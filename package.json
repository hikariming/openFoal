{
  "name": "openfoal",
  "private": true,
  "version": "0.1.0",
  "scripts": {
    "dev:web": "pnpm --filter @openfoal/web-console dev",
    "dev:personal-web": "pnpm --filter @openfoal/personal-web dev",
    "dev:desktop": "pnpm --filter @openfoal/desktop dev",
    "dev:gateway": "npm run build:backend && node scripts/gateway-dev.mjs",
    "build:web": "pnpm --filter @openfoal/web-console build",
    "build:personal-web": "pnpm --filter @openfoal/personal-web build",
    "build:desktop": "pnpm --filter @openfoal/desktop build",
    "build:backend": "node scripts/backend-build.mjs",
    "test:backend": "node scripts/backend-test.mjs",
    "test:auth": "node scripts/auth-test.mjs",
    "test:p1:smoke": "node scripts/p1-smoke-test.mjs",
    "test:p2:e2e": "node scripts/p2-e2e-test.mjs",
    "test:p2:e2e:docker": "node scripts/p2-e2e-docker-smoke.mjs",
    "smoke:enterprise:full": "node scripts/smoke-enterprise-full.mjs",
    "migrate:enterprise:pg": "node scripts/migrate-enterprise-sqlite-to-pg.mjs",
    "migrate:enterprise:minio": "node scripts/migrate-enterprise-storage-to-minio.mjs",
    "up:personal": "OPENFOAL_AUTH_MODE=none OPENFOAL_ENTERPRISE_REQUIRE_AUTH=false OPENFOAL_GATEWAY_STORAGE_BACKEND=sqlite OPENFOAL_GATEWAY_HOST_PORT=8787 docker compose --profile personal up -d --build",
    "down:personal": "docker compose --profile personal down",
    "up:enterprise": "OPENFOAL_AUTH_MODE=hybrid OPENFOAL_ENTERPRISE_REQUIRE_AUTH=true OPENFOAL_GATEWAY_HOST_PORT=8787 OPENFOAL_WEB_CONSOLE_HOST_PORT=5200 OPENFOAL_GATEWAY_STORAGE_BACKEND=postgres OPENFOAL_IDEMPOTENCY_BACKEND=redis OPENFOAL_BLOB_BACKEND=minio ORCHESTRATOR_BLOB_BACKEND=minio docker compose --profile enterprise up -d --build",
    "up:enterprise:all": "npm run up:enterprise && npm run smoke:enterprise:full",
    "down:enterprise": "docker compose --profile enterprise down",
    "down:enterprise:all": "npm run down:enterprise",
    "up:dual": "OPENFOAL_AUTH_MODE=hybrid OPENFOAL_ENTERPRISE_REQUIRE_AUTH=true OPENFOAL_GATEWAY_HOST_PORT=8787 OPENFOAL_WEB_CONSOLE_HOST_PORT=5200 OPENFOAL_GATEWAY_STORAGE_BACKEND=postgres OPENFOAL_IDEMPOTENCY_BACKEND=redis OPENFOAL_BLOB_BACKEND=minio ORCHESTRATOR_BLOB_BACKEND=minio docker compose -p openfoal-enterprise --profile enterprise up -d --build && OPENFOAL_AUTH_MODE=none OPENFOAL_ENTERPRISE_REQUIRE_AUTH=false OPENFOAL_GATEWAY_STORAGE_BACKEND=sqlite OPENFOAL_GATEWAY_HOST_PORT=8788 docker compose -p openfoal-personal --profile personal up -d --build",
    "down:dual": "docker compose -p openfoal-enterprise --profile enterprise down && docker compose -p openfoal-personal --profile personal down",
    "ps:dual": "docker compose -p openfoal-enterprise --profile enterprise ps && docker compose -p openfoal-personal --profile personal ps",
    "logs:dual": "docker compose -p openfoal-enterprise --profile enterprise logs --tail 200 gateway web-console docker-runner bootstrap-enterprise && docker compose -p openfoal-personal --profile personal logs --tail 200 gateway personal-web",
    "logs:personal": "docker compose --profile personal logs -f gateway personal-web",
    "logs:enterprise": "docker compose --profile enterprise logs -f gateway web-console docker-runner bootstrap-enterprise",
    "ps:docker": "docker compose ps"
  }
}
